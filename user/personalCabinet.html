<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>Личный кабинет</title>
    <link rel="stylesheet" href="personalCabinet.css" />
    <link rel="stylesheet" href="../showToast/showToast.css" />
    <script src="../showToast/showToast.js" defer></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" href="../assets/favicon2.png" type="image/x-icon" />
  </head>
  <body>
    <div id="toast-container"></div>
    <div class="container">
      <div id="controls">
        <button id="goToLibrary" onclick="goToLibrary()">В библиотеку</button>
        <button id="logout" onclick="logout()">Выйти</button>
      </div>
      <div class="user-info">
        <div class="info-details">
          <p><span>ФИО:</span> <span id="user-name"></span></p>
          <p><span>Группа:</span> <span id="user-group"></span></p>
          <p>
            <span>Задолженности:</span>
            <span id="user-debt" style="color: #ea242e"></span>
          </p>
        </div>
      </div>
      <hr />

      <h3 Список взятых книг:></h3>
      <div class="book-list">
       
      </div>
      <div id="returnBookModal" class="modal">
        <div class="modal-content1">
          <h2>Вернуть книгу</h2>
          <p id="returnBookMessage">
            Вы уверены, что хотите вернуть эту книгу?
          </p>
          <div class="modal-actions">
            <button id="confirmReturnBtn" class="save-btn">Вернуть</button>
            <button class="cancel-btn" onclick="closeReturnModal()">
              Отмена
            </button>
          </div>
        </div>
      </div>
      <table id="booksTable" style="display: none">
        <thead id="booksTableHeader">
          <tr>
            <th>Название</th>
            <th>Автор</th>
            <th>Количество</th>
            <th>Местоположение</th>
            <th id="takeBook">Действие</th>
          </tr>
        </thead>
        <tbody id="booksTableBody"></tbody>
      </table>

      <div id="result"></div>
      <form id="searchForm">
        <ion-icon name="search-outline" id="search-outline"></ion-icon>
        <input type="text" id="searchInput" placeholder="Поиск книги..." />
        <button type="button" onclick="searchBook()" id="find">Найти</button>
      </form>
    </div>
    <div id="takeBookModal" class="modal">
      <div class="modal-content1">
        <h2>Взять книгу</h2>
        <p id="takeBookMessage">Вы уверены, что хотите взять эту книгу?</p>
        <div class="modal-actions">
          <button id="confirmTakeBtn" class="save-btn">Взять</button>
          <button class="cancel-btn" onclick="closeTakeModal()">Отмена</button>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/jwt-decode@3.1.2/build/jwt-decode.min.js"></script>
    <script defer src="personalCabinet.js"></script>
  </body>
</html>
